outputDir:         /home/ubuntu/projects/example
sampleConfigFile:  /home/ubuntu/projects/sampleData.tsv

modules:
   - demultiplex
   - prepReads
   - alignReads
   - buildFragments
   - buildStdFragments
   - buildSites
#   - annotateRepeats   
#   - callNearestGenes
#   - callNearestGenesFiltered
#   - predictPCRartifacts
#   - mapSiteLeaderSequences

# Processing parameters.
#~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~

demultiplex_CPUs: 15
demultiplex_outputDir: demultiplex
demultiplex_anchorReadsFile: /home/ubuntu/projects/Spark/RGT20973202_BWK23/data/RGT20973202__BWK23.Undetermined_S0_R2_001.fastq.gz
demultiplex_adriftReadsFile: /home/ubuntu/projects/Spark/RGT20973202_BWK23/data/RGT20973202__BWK23.Undetermined_S0_R1_001.fastq.gz
demultiplex_index1ReadsFile: /home/ubuntu/projects/Spark/RGT20973202_BWK23/data/RGT20973202__BWK23.Undetermined_S0_I1_001.fastq.gz
demultiplex_RC_I1_barcodes: FALSE
demultiplex_RC_I1_barcodes_auto: TRUE # Will override demultiplex_RC_I1_barcodes
demultiplex_qualtrim_code: '5'
demultiplex_qualtrim_minLength: 50
demultiplex_correctGolayIndexReads: TRUE
demultiplex_percentReadDataToUse: 100
demultiplex_percentReadDataToUseRandomSeed: 1
demultiplex_sequenceChunkSize: 100000
demultiplex_index1ReadMaxMismatch: 0
demultiplex_adriftReadLinkerBarcodeMaxMismatch: 1
demultiplex_anchorRead.startSeq.maxMisMatch: 1
demultiplex_useAdriftReadUniqueLinkers: TRUE

prepReads_CPUs: 15
prepReads_outputDir: prepReads
prepReads_readsTable:  demultiplex/reads.rds
prepReads_excludeAnchorReadVectorHits: TRUE
prepReads_excludeAdriftReadVectorHits: FALSE
prepReads_vectorAlignmentTestLength: 25
prepReads_vectorAlignmentTest_minPercentCoverage: 90
prepReads_vectorAlignmentTest_minPercentID: 90
prepReads_HMMsearchReadStartPos: 1
prepReads_HMMsearchReadEndPos:  90
prepReads_HMMmaxStartPos: 3
prepReads_HMMminFullBitScore: 55
prepReads_minAnchorReadLength: 30
prepReads_minAdriftReadLength: 30
prepReads_mapLeaderSeqsMinAlignmentLength: 15
prepReads_mapLeaderSeqsMinPercentID: 90
prepReads_buildReadMaps_blastReconstruction: TRUE
prepReads_buildReadMaps_minMapStartPostion: 5

alignReads_CPUs: 15
alignReads_outputDir: alignReads
alignReads_inputFile: prepReads/reads.rds
alignReads_anchorReadAlignmentsOutputFile: anchorReadAlignments.rds
alignReads_adriftReadAlignmentsOutputFile: adriftReadAlignments.rds
alignReads_genomeAlignment_anchorRead_maxStartPos: 500  # Set to a small value such as 3 when using HMMs, large value such as 100 for AAV analyses.
alignReads_genomeAlignment_minPercentID: 97
alignReads_genomeAlignment_blatStepSize: 9
alignReads_genomeAlignment_blatTileSize: 11
alignReads_genomeAlignment_repMatch: 2500
alignReads_genomeAlignment_anchorReadEnd_maxUnaligned: 3  # Max number of NTs at the end of anchor reads not aligning to the genome.
alignReads_genomeAlignment_adriftReadEnd_maxUnaligned: 10 # Max number of NTs at the end of adrift reads not aligning to the genome. 
alignReads_genomeAlignment_adriftReadMaxStart: 3

buildFragments_CPUs: 15
buildFragments_outputDir: buildFragments
buildFragments_outputFile: fragments.rds
buildFragments_duplicateReadFile: prepReads/duplicateReads.rds
buildFragments_anchorReadsAlignmentFile: alignReads/anchorReadAlignments.rds
buildFragments_adriftReadsAlignmentFile: alignReads/adriftReadAlignments.rds
buildFragments_idGroup_size: 1000
buildFragments_maxReadAlignments: 1000
buildFragments_minFragLength: 20
buildFragments_maxFragLength: 2500
buildFragments_randomLinkerID_minReadCountToSegreagate: 10
buildFragments_randomLinkerID_minSingleSampleMajorityPercent: 90

buildStdFragments_CPUs: 15
buildStdFragments_minReadsPerFrag: 1
buildStdFragments_createMultiHitClusters: FALSE
buildStdFragments_inputFiles: buildFragments/fragments.rds
buildStdFragments_outputDir: buildStdFragments
buildStdFragments_outputFile: stdFragments.rds
buildStdFragments_representativeSeqCalc_maxReads: 1000
buildStdFragments_representativeSeqCalc_CPUs: 5
buildStdFragments_categorize_anchorReadRemnants_stepSize: 12
buildStdFragments_UMI_conflict_minPercentReads: 75

buildSites_inputFile: buildStdFragments/stdFragments.rds
buildSites_outputDir: buildSites
buildSites_outputFile: sites.rds

annotateRepeats_CPUs: 15
annotateRepeats_inputFile: mapSiteLeaderSequences/sites.rds
annotateRepeats_outputDir: annotateRepeats
annotateRepeats_outputFile: sites.rds
annotateRepeats_addAfter: posid

predictPCRartifacts_CPUs: 15
predictPCRartifacts_inputFile: annotateRepeats/sites.rds
predictPCRartifacts_outputDir: predictPCRartifacts
predictPCRartifacts_outputFile: sites.rds
predictPCRartifacts_addAfter: nRepsObs
predictPCRartifacts_adjacentSeqLength: 15
predictPCRartifacts_minAlignmentLength: 12
predictPCRartifacts_minPercentSeqID: 80


callNearestGenes_CPUs: 15
callNearestGenes_inputFile: callNearestGenesFiltered/sites.rds
callNearestGenes_outputDir: callNearestGenes
callNearestGenes_outputFile: sites.rds
callNearestGenes_addAfter: nRepsObs
callNearestGenes_TU_position: either
callNearestGenes_boundaries:
  hg38:
    TUs:   hg38.TUs.rds
    exons: hg38.exons.rds
  sacCer3:
        TUs:   sacCer3.TUs.rds
        exons: sacCer3.exons.rds
  canFam3:
        TUs:   canFam3.humanXeno.TUs.rds
        exons: canFam3.humanXeno.exons.rds
  macFas5:
        TUs:   macFas5.humanXeno.TUs.rds
        exons: macFas5.humanXeno.exons.rds


callNearestGenesFiltered_CPUs: 15
callNearestGenesFiltered_columnPrefix: oncoGenes
callNearestGenesFiltered_inputFile: buildSites/sites.rds
callNearestGenesFiltered_outputDir: callNearestGenesFiltered
callNearestGenesFiltered_outputFile: sites.rds
callNearestGenesFiltered_addAfter: nRepsObs
callNearestGenesFiltered_TU_position: either
callNearestGenesFiltered_boundaries:
  hg38:
    TUs:   hg38.TUs.rds
    exons: hg38.exons.rds
    filter: hg38.Bushman.oncoGeneList.rds
  sacCer3:
        TUs:   sacCer3.TUs.rds
        exons: sacCer3.exons.rds
        filter: hg38.Bushman.oncoGeneList.rds
  canFam3:
        TUs: canFam3.humanXeno.TUs.rds
        exons: canFam3.humanXeno.exons.rds
        filter: hg38.Bushman.oncoGeneList.rds
  macFas5:
        TUs:   macFas5.humanXeno.TUs.rds
        exons: macFas5.humanXeno.exons.rds
        filter: hg38.Bushman.oncoGeneList.rds
        
        
mapSiteLeaderSequences_CPUs: 15
mapSiteLeaderSequences_outputDir: mapSiteLeaderSequences
mapSiteLeaderSequences_inputFile: callNearestGenes/sites.rds
mapSiteLeaderSequences_addAfter: repLeaderSeq
mapSiteLeaderSequences_minAllowableGap: 5                   # Min. space between blast hits allowed. Larger gaps will be filled with [x].
mapSiteLeaderSequences_alignmentChunkSize: 5000
mapSiteLeaderSequences_minAlignmentPercentID: 90
mapSiteLeaderSequences_minAlignmentLength: 15
mapSiteLeaderSequences_outputFile: sites.rds


# Software environment.
#~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~-~

command_python2:     /usr/bin/python2
command_blat:        /home/ubuntu/software/blat
command_cutadapt:    /usr/bin/cutadapt
command_muscle:      /home/ubuntu/software/muscle
command_makeblastdb: /home/ubuntu/software/ncbi-blast-2.12.0+/bin/makeblastdb
command_blastn:      /home/ubuntu/software/ncbi-blast-2.12.0+/bin/blastn
command.hmmsearch:   /home/ubuntu/software/hmmer-3.3.2/bin/hmmsearch

Rscript:             /usr/bin/Rscript
softwareDir:         /home/ubuntu/software/AAVengeR
